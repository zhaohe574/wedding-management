# 婚庆管家 - 开发计划文档

**项目名称**: 婚庆管家（Wedding Host Manager）  
**版本**: v1.0.0  
**创建日期**: 2025-12-31

---

## 一、项目概述

### 1.1 项目目标

基于ThinkPHP 8.0 + uni-app技术栈，开发一个专注微信小程序平台的婚庆主持人预约管理系统，包含用户端、主持人端和管理端三个应用入口。

### 1.2 核心特点

- 不依赖第三方框架，纯净的ThinkPHP后端
- 专注微信小程序，不做多端适配
- 不集成支付系统，采用凭证上传模式
- 不支持多站点，单站点运营

### 1.3 项目周期

- **预计开发周期**: 5周
- **开始日期**: 2025-01-06（周一）
- **预计完成**: 2025-02-07（周五）

---

## 二、开发阶段划分

### 2.1 阶段概览

| 阶段 | 名称 | 周期 | 主要内容 |
|-----|------|------|---------|
| 第1阶段 | 项目搭建 | 第1周 | 环境搭建、基础框架、数据库 |
| 第2阶段 | 核心功能 | 第2周 | 主持人模块、订单模块 |
| 第3阶段 | 扩展功能 | 第3周 | 评价、动态、退款模块 |
| 第4阶段 | 前端开发 | 第4周 | 小程序、管理端前端 |
| 第5阶段 | 测试上线 | 第5周 | 测试、优化、部署 |

---

## 三、第1阶段：项目搭建（第1周）

### 3.1 Day 1-2：环境搭建与项目初始化

**任务清单（可交付物级别）**:

- [ ] **后端项目初始化**
  - [ ] 创建ThinkPHP 8.0项目（交付物：项目目录结构）
  - [ ] 配置composer依赖（交付物：composer.json、vendor目录）
  - [ ] 配置数据库连接（交付物：config/database.php、.env文件）
  - [ ] 配置Redis缓存（交付物：config/cache.php）
  - [ ] 配置路由规则（交付物：route/api.php、route/admin.php）

- [ ] **前端项目初始化**
  - [ ] 创建uni-app项目（交付物：项目目录结构）
  - [ ] 配置TypeScript（交付物：tsconfig.json）
  - [ ] 配置tuniao UI V3（交付物：main.ts配置、package.json依赖）
  - [ ] 配置Pinia（交付物：stores目录、main.ts配置）
  - [ ] 配置请求封装（交付物：utils/request.ts）

- [ ] **管理端项目初始化**
  - [ ] 创建Vue3 + Vite项目（交付物：项目目录结构）
  - [ ] 配置Element Plus（交付物：main.ts配置、package.json依赖）
  - [ ] 配置Tailwind CSS（交付物：tailwind.config.js）
  - [ ] 配置路由和状态管理（交付物：router/index.ts、stores目录）

**联调时间**: 无（本阶段无需联调）

**测试时间**: Day 2 下午（2小时）

**修复缓冲**: Day 2 晚上（2小时）

**产出文档**:
- 环境配置文档
- 项目结构说明

**验收人**: 技术负责人

**验收标准（可验证）**:
- ✅ 后端能正常启动并访问（验证：访问 http://localhost:8000 返回正常）
- ✅ 小程序能在开发者工具中运行（验证：编译成功，无报错）
- ✅ 管理端能在浏览器中访问（验证：访问 http://localhost:5173 显示正常）
- ✅ 所有配置文件格式正确（验证：无语法错误）

### 3.2 Day 3-4：数据库与模型层

**任务清单（可交付物级别）**:

- [ ] **数据库创建**
  - [ ] 创建数据库（交付物：数据库Wedding_management）
  - [ ] 执行建表SQL（交付物：所有表创建成功，无错误）
  - [ ] 插入初始数据（交付物：初始管理员账号、服务类型、配置项）

- [ ] **模型层开发**
  - [ ] ServiceType模型（交付物：app/model/ServiceType.php）
  - [ ] ServiceProvider模型（交付物：app/model/ServiceProvider.php）
  - [ ] ServiceProviderLabel模型（交付物：app/model/ServiceProviderLabel.php）
  - [ ] ServiceProviderService模型（交付物：app/model/ServiceProviderService.php）
  - [ ] ServiceProviderSchedule模型（交付物：app/model/ServiceProviderSchedule.php）
  - [ ] ServiceProviderFavorite模型（交付物：app/model/ServiceProviderFavorite.php）
  - [ ] Order模型（交付物：app/model/Order.php）
  - [ ] OrderPeriod模型（交付物：app/model/OrderPeriod.php）
  - [ ] OrderOption模型（交付物：app/model/OrderOption.php）
  - [ ] OrderStatusLog模型（交付物：app/model/OrderStatusLog.php）
  - [ ] Review模型（交付物：app/model/Review.php）
  - [ ] RefundApply模型（交付物：app/model/RefundApply.php）
  - [ ] Dynamic模型（交付物：app/model/Dynamic.php）
  - [ ] DynamicComment模型（交付物：app/model/DynamicComment.php）
  - [ ] DynamicLike模型（交付物：app/model/DynamicLike.php）
  - [ ] DynamicCategory模型（交付物：app/model/DynamicCategory.php）
  - [ ] Member模型（交付物：app/model/Member.php）
  - [ ] Admin模型（交付物：app/model/Admin.php）
  - [ ] Config模型（交付物：app/model/Config.php）
  - [ ] Message模型（交付物：app/model/Message.php）
  - [ ] MessageRead模型（交付物：app/model/MessageRead.php）
  - [ ] Notice模型（交付物：app/model/Notice.php）
  - [ ] Banner模型（交付物：app/model/Banner.php）
  - [ ] ShareLog模型（交付物：app/model/ShareLog.php）
  - [ ] Cart模型（交付物：app/model/Cart.php）
  - [ ] StatDaily模型（交付物：app/model/StatDaily.php）

**联调时间**: 无（本阶段无需联调）

**测试时间**: Day 4 下午（3小时）
- 单元测试：每个模型的CRUD操作
- 关联查询测试
- 数据验证测试

**修复缓冲**: Day 4 晚上（2小时）

**产出文档**:
- 模型使用说明文档
- 数据库测试报告

**验收人**: 后端开发负责人

**验收标准（可验证）**:
- ✅ 所有表创建成功（验证：SHOW TABLES 显示26张表）
- ✅ 所有模型文件存在（验证：ls app/model/ 显示所有模型文件）
- ✅ 模型能正常操作数据库（验证：编写测试脚本，每个模型至少执行一次增删改查）
- ✅ 关联查询正常（验证：测试JOIN查询返回正确数据）
- ✅ 数据验证生效（验证：插入非法数据返回验证错误）

### 3.3 Day 5：认证中间件与基础接口

**任务清单**:

- [ ] **中间件开发**
  - [ ] CORS跨域中间件
  - [ ] API认证中间件（JWT）
  - [ ] 管理员认证中间件
  - [ ] 主持人认证中间件

- [ ] **基础接口开发**
  - [ ] 微信登录接口
  - [ ] 获取用户信息接口
  - [ ] 管理员登录接口
  - [ ] 文件上传接口
  - [ ] 配置获取接口

- [ ] **工具类开发**
  - [ ] JwtHelper
  - [ ] WechatHelper
  - [ ] UploadHelper
  - [ ] ResponseHelper

**验收标准**:
- 认证流程可正常工作
- 文件上传功能正常

---

## 四、第2阶段：核心功能（第2周）

### 4.1 Day 6-7：服务提供者模块

**任务清单（可交付物级别）**:

- [ ] **后端服务层**
  - [ ] ProviderService服务类（交付物：app/service/api/ProviderService.php，包含getPage、getInfo、getSchedule方法）
  - [ ] ProviderLabelService服务类（交付物：app/service/admin/ProviderLabelService.php）
  - [ ] ProviderServiceService服务类（交付物：app/service/api/ProviderServiceService.php）
  - [ ] ProviderScheduleService服务类（交付物：app/service/api/ProviderScheduleService.php）
  - [ ] ProviderFavoriteService服务类（交付物：app/service/api/ProviderFavoriteService.php）
  - [ ] ServiceProviderServiceFactory工厂类（交付物：app/service/core/ServiceProviderServiceFactory.php）

- [ ] **后端控制器**
  - [ ] 管理端：Provider控制器（交付物：app/controller/admin/Provider.php，包含list、add、edit、delete方法）
  - [ ] 管理端：ProviderLabel控制器（交付物：app/controller/admin/ProviderLabel.php）
  - [ ] API：Provider控制器（交付物：app/controller/api/Provider.php，包含list、info、schedule方法）
  - [ ] API：Favorite控制器（交付物：app/controller/api/Favorite.php）

- [ ] **接口开发（输入/输出/前置条件）**
  - [ ] GET /admin/v1/provider/list
    - 输入：page, page_size, service_type, keyword
    - 输出：分页列表
    - 前置条件：管理员已登录
  - [ ] POST /admin/v1/provider/add
    - 输入：服务提供者完整信息
    - 输出：服务提供者ID
    - 前置条件：管理员已登录
  - [ ] POST /admin/v1/provider/edit
    - 输入：服务提供者ID + 更新字段
    - 输出：操作结果
    - 前置条件：管理员已登录，服务提供者存在
  - [ ] POST /admin/v1/provider/delete
    - 输入：服务提供者ID
    - 输出：操作结果
    - 前置条件：管理员已登录，服务提供者存在且无关联订单
  - [ ] GET /api/v1/provider/list
    - 输入：page, page_size, service_type, keyword, label_id, date, period, sort_type
    - 输出：分页列表
    - 前置条件：无（公开接口）
  - [ ] GET /api/v1/provider/info/{id}
    - 输入：服务提供者ID
    - 输出：服务提供者详情
    - 前置条件：服务提供者存在且状态正常
  - [ ] GET /api/v1/provider/schedule/{id}
    - 输入：服务提供者ID, year, month
    - 输出：档期日历数据
    - 前置条件：服务提供者存在
  - [ ] POST /api/v1/provider/favorite
    - 输入：provider_id
    - 输出：is_favorited状态
    - 前置条件：用户已登录
    - 幂等性：✅ 支持
  - [ ] GET /api/v1/provider/favorites
    - 输入：page, page_size, service_type
    - 输出：分页收藏列表
    - 前置条件：用户已登录

**联调时间**: Day 7 下午（3小时）
- 前后端接口联调
- 数据格式验证
- 异常场景测试

**测试时间**: Day 7 晚上（2小时）
- 功能测试：CRUD操作
- 权限测试：角色权限验证
- 边界测试：异常参数、并发操作

**修复缓冲**: Day 7 晚上剩余时间（1小时）

**产出文档**:
- 接口测试报告
- 联调问题记录

**验收人**: 前后端开发负责人

**验收标准（可验证）**:
- ✅ 服务提供者CRUD功能正常（验证：管理端创建/编辑/删除操作成功）
- ✅ 支持所有服务类型（验证：创建host/photographer/butler三种类型均成功）
- ✅ 标签管理功能正常（验证：仅管理员可操作，普通用户不可操作）
- ✅ 档期查询功能正常（验证：返回正确的档期日历数据）
- ✅ 收藏功能正常（验证：收藏/取消收藏操作成功，列表正确显示）
- ✅ 接口响应时间 < 500ms（验证：使用Postman测试）
- ✅ 分页功能正常（验证：不同页码返回正确数据）
- ✅ 排序功能正常（验证：不同排序方式返回正确顺序）

### 4.2 Day 8-10：订单模块

**任务清单（可交付物级别）**:

- [ ] **后端服务层**
  - [ ] OrderService服务类（交付物：app/service/api/OrderService.php）
    - [ ] createOrder方法（输入：订单数据+client_request_id，输出：订单ID，前置：用户已登录、档期可用）
    - [ ] getList方法（输入：分页参数+筛选条件，输出：分页列表，前置：用户已登录）
    - [ ] getInfo方法（输入：订单ID，输出：订单详情，前置：用户已登录、订单存在）
    - [ ] cancel方法（输入：订单ID+原因，输出：操作结果，前置：用户已登录、订单属于该用户、状态允许取消）
    - [ ] approve方法（输入：订单ID，输出：操作结果，前置：服务提供者已登录、订单属于该服务提供者、状态为待审核）
    - [ ] reject方法（输入：订单ID+拒绝原因，输出：操作结果，前置：同上）
    - [ ] confirmPayment方法（输入：订单ID+付款信息，输出：操作结果，前置：管理员已登录、订单状态为已同意）
    - [ ] confirmComplete方法（输入：订单ID，输出：操作结果，前置：服务提供者已登录、订单状态为待服务）
    - [ ] applyRefund方法（输入：订单ID+退款原因+client_request_id，输出：退款单号，前置：用户已登录、订单状态允许退款）
    - [ ] confirmRefund方法（输入：退款ID+退款信息，输出：操作结果，前置：管理员已登录、退款状态为待审核）
  - [ ] OrderStatusLogService服务类（交付物：app/service/api/OrderStatusLogService.php）

- [ ] **后端控制器**
  - [ ] API：Order控制器（交付物：app/controller/api/Order.php）
  - [ ] Admin：Order控制器（交付物：app/controller/admin/Order.php）

- [ ] **接口开发（输入/输出/前置条件/幂等性）**
  - [ ] POST /api/v1/order/create
    - 输入：client_request_id, service_type, provider_id, reservation_date, periods, addons, contact_name, contact_mobile等
    - 输出：order_id, order_no, total_amount
    - 前置条件：用户已登录且角色为普通用户，档期可用，套餐存在
    - 幂等性：✅ 支持（通过client_request_id）
  - [ ] GET /api/v1/order/list
    - 输入：page, page_size, service_type, status, sort_type
    - 输出：分页订单列表
    - 前置条件：用户已登录
  - [ ] GET /api/v1/order/info/{id}
    - 输入：订单ID
    - 输出：订单详情（包含状态日志）
    - 前置条件：用户已登录，订单存在且属于该用户或该用户是服务提供者
  - [ ] POST /api/v1/order/cancel
    - 输入：order_id, reason
    - 输出：操作结果
    - 前置条件：用户已登录，订单属于该用户，订单状态允许取消
    - 幂等性：✅ 支持
  - [ ] POST /api/v1/order/refund
    - 输入：client_request_id, order_id, reason
    - 输出：refund_no
    - 前置条件：用户已登录，订单属于该用户，订单状态允许退款
    - 幂等性：✅ 支持（通过client_request_id）
  - [ ] POST /api/v1/order/approve
    - 输入：order_id, remark
    - 输出：操作结果
    - 前置条件：服务提供者已登录，订单属于该服务提供者，订单状态为待审核
    - 幂等性：✅ 支持（已同意的订单重复同意返回成功）
  - [ ] POST /api/v1/order/reject
    - 输入：order_id, reason
    - 输出：操作结果
    - 前置条件：同上
    - 幂等性：✅ 支持
  - [ ] POST /api/v1/order/complete
    - 输入：order_id
    - 输出：操作结果
    - 前置条件：服务提供者已登录，订单属于该服务提供者，订单状态为待服务
    - 幂等性：✅ 支持
  - [ ] POST /api/v1/order/uploadPaymentVoucher
    - 输入：order_id, voucher（图片URL）
    - 输出：操作结果
    - 前置条件：用户已登录，订单属于该用户，订单状态为已同意
    - 幂等性：✅ 支持（重复上传覆盖）
  - [ ] GET /admin/v1/order/list
    - 输入：page, page_size, order_no, provider_id, service_type, status, date_start, date_end
    - 输出：分页订单列表
    - 前置条件：管理员已登录
  - [ ] POST /admin/v1/order/confirmPayment
    - 输入：order_id, payment_voucher, payment_amount, remark
    - 输出：操作结果
    - 前置条件：管理员已登录，订单状态为已同意
    - 幂等性：✅ 支持（已付款的订单重复确认返回成功）
  - [ ] POST /admin/v1/order/confirmRefund
    - 输入：order_id, refund_voucher, refund_amount, remark
    - 输出：操作结果
    - 前置条件：管理员已登录，退款申请状态为待审核
    - 幂等性：✅ 支持

- [ ] **业务逻辑（异常场景处理）**
  - [ ] 档期锁定逻辑（并发控制：使用数据库事务+行锁）
  - [ ] 订单金额计算（校验：金额必须>0，计算逻辑正确）
  - [ ] 状态流转逻辑（校验：状态流转合法性，非法流转返回错误码2002）
  - [ ] 状态日志记录（每次状态变更必须记录日志）
  - [ ] 幂等性处理（client_request_id唯一索引，重复请求返回已存在订单）
  - [ ] 并发冲突处理（订单审核使用SELECT FOR UPDATE行锁）

**联调时间**: Day 9 下午（4小时）
- 订单创建流程联调
- 状态流转联调
- 异常场景联调

**测试时间**: Day 10 上午（3小时）
- 功能测试：订单创建、状态流转
- 并发测试：同时创建订单、同时审核订单
- 异常测试：档期冲突、状态非法、权限不足

**修复缓冲**: Day 10 下午（4小时）

**产出文档**:
- 订单模块测试报告
- 状态流转测试用例
- 并发测试报告

**验收人**: 技术负责人

**验收标准（可验证）**:
- ✅ 订单创建流程正常（验证：创建订单成功，档期锁定，状态为待审核）
- ✅ 订单状态流转正常（验证：所有状态流转路径测试通过）
- ✅ 档期锁定/释放正常（验证：创建订单后档期状态为已预订，取消后释放）
- ✅ 付款/退款确认正常（验证：管理员确认付款/退款后状态正确更新）
- ✅ 幂等性正常（验证：相同client_request_id重复请求返回相同结果）
- ✅ 并发控制正常（验证：同时审核同一订单只有一个成功）
- ✅ 异常场景处理正确（验证：档期冲突、状态非法、权限不足返回正确错误码）

---

## 五、第3阶段：扩展功能（第3周）

### 5.1 Day 11-12：评价模块

**任务清单**:

- [ ] **后端服务层**
  - [ ] ReviewService服务类
    - [ ] add方法（提交评价）
    - [ ] getList方法（评价列表）
    - [ ] reply方法（回复评价）
    - [ ] getStatistics方法（评价统计）

- [ ] **后端控制器**
  - [ ] API：Review控制器（统一接口，通过角色权限中间件区分）
  - [ ] Admin：Review控制器（管理端）

- [ ] **接口开发**
  - [ ] POST /api/review/add - 提交评价（普通用户）
  - [ ] GET /api/review/list - 评价列表（所有用户）
  - [ ] POST /api/review/reply - 回复评价（主持人）
  - [ ] GET /api/review/myList - 我的评价列表（主持人）
  - [ ] GET /admin/review/list - 评价管理（管理端）
  - [ ] POST /admin/review/audit - 审核评价（管理端）

**验收标准**:
- 评价提交功能正常
- 评价列表显示正常
- 回复功能正常

### 5.2 Day 13-14：动态模块

**任务清单**:

- [ ] **后端服务层**
  - [ ] DynamicService服务类
  - [ ] DynamicCommentService服务类
  - [ ] DynamicCategoryService服务类

- [ ] **后端控制器**
  - [ ] API：Dynamic控制器（统一接口，通过角色权限中间件区分）
  - [ ] Admin：Dynamic控制器（管理端）

- [ ] **接口开发**
  - [ ] GET /api/dynamic/list - 动态列表（所有用户）
  - [ ] GET /api/dynamic/info/{id} - 动态详情（所有用户）
  - [ ] POST /api/dynamic/like - 点赞（所有用户）
  - [ ] GET /api/dynamic/comments - 评论列表（所有用户）
  - [ ] POST /api/dynamic/comment - 发表评论（所有用户）
  - [ ] POST /api/dynamic/publish - 发布动态（主持人）
  - [ ] GET /api/dynamic/myList - 我的动态（主持人）
  - [ ] POST /api/dynamic/delete - 删除动态（主持人）
  - [ ] GET /admin/dynamic/list - 动态管理（管理端）
  - [ ] POST /admin/dynamic/audit - 审核动态（管理端）

**验收标准**:
- 动态发布功能正常
- 点赞评论功能正常
- 审核功能正常

### 5.3 Day 15：退款与配置模块

**任务清单**:

- [ ] **退款模块**
  - [ ] RefundApplyService服务类
  - [ ] 退款申请接口
  - [ ] 退款审核接口
  - [ ] 退款列表接口

- [ ] **配置模块**
  - [ ] ConfigService服务类
  - [ ] 配置获取接口
  - [ ] 配置保存接口

- [ ] **统计模块**
  - [ ] StatisticsService服务类
  - [ ] 仪表盘数据接口
  - [ ] 主持人工作台数据接口
  - [ ] 订单统计接口
  - [ ] 主持人统计接口
  - [ ] 会员统计接口

- [ ] **消息模块**
  - [ ] MessageService服务类
  - [ ] MessageReadService服务类
  - [ ] 消息列表接口
  - [ ] 标记已读接口
  - [ ] 未读消息数接口
  - [ ] 消息推送逻辑

- [ ] **内容管理模块**
  - [ ] NoticeService服务类（公告）
  - [ ] BannerService服务类（轮播图）
  - [ ] 公告管理接口（CRUD）
  - [ ] 轮播图管理接口（CRUD）

- [ ] **分享模块**
  - [ ] ShareService服务类
  - [ ] 分享记录接口
  - [ ] 分享数据接口

- [ ] **订单超时处理**
  - [ ] OrderTimeoutJob定时任务
  - [ ] 超时配置接口
  - [ ] 超时日志接口

**验收标准**:
- 退款流程正常
- 配置管理正常
- 统计数据正确
- 消息推送正常
- 内容管理正常
- 分享功能正常
- 订单超时处理正常

---

## 六、第4阶段：前端开发（第4周）

### 6.1 Day 16-19：小程序开发（统一应用，按角色区分）

**任务清单**:

- [ ] **公共组件**
  - [ ] host-card 主持人卡片
  - [ ] order-card 订单卡片
  - [ ] dynamic-card 动态卡片
  - [ ] date-picker 日期选择器
  - [ ] period-picker 场次选择器
  - [ ] empty-state 空状态
  - [ ] loading 加载组件
  - [ ] message-badge 消息角标
  - [ ] share-button 分享按钮

- [ ] **工具函数**
  - [ ] useAuth Hook（认证，包含角色判断）
  - [ ] useRole Hook（角色权限判断）
  - [ ] useMessage Hook（消息处理）
  - [ ] useShare Hook（分享处理）
  - [ ] 路由守卫（按角色控制页面访问）

- [ ] **页面开发（所有用户）**
  - [ ] 首页 (index)
  - [ ] 主持人列表页
  - [ ] 主持人详情页（含分享功能）
  - [ ] 档期选择页
  - [ ] 动态列表页
  - [ ] 动态详情页（含分享功能）
  - [ ] 消息中心页
  - [ ] 登录页

- [ ] **页面开发（普通用户）**
  - [ ] 订单创建页
  - [ ] 订单列表页（用户视角）
  - [ ] 订单详情页（用户视角，含上传付款凭证、分享功能）
  - [ ] 评价提交页
  - [ ] 我的收藏页

- [ ] **页面开发（主持人）**
  - [ ] 工作台首页
  - [ ] 订单列表页（主持人视角）
  - [ ] 订单详情页（主持人视角，含审核操作）
  - [ ] 档期日历页
  - [ ] 档期设置页
  - [ ] 动态管理页
  - [ ] 发布动态页
  - [ ] 评价管理页（回复评价）
  - [ ] 个人资料页

- [ ] **个人中心（按角色显示）**
  - [ ] 个人中心首页（根据角色显示不同菜单，含消息角标）
  - [ ] 普通用户：我的订单、我的收藏、我的评价、消息中心
  - [ ] 服务提供者：工作台、我的订单、档期管理、动态管理、评价管理、消息中心
  - [ ] 客服入口（调用微信小程序客服）

**验收标准**:
- 所有页面正常显示
- 角色判断正确，功能按角色区分
- 路由守卫正常工作
- 交互流程顺畅
- 数据加载正常

### 6.2 Day 20-21：管理端开发

**任务清单**:

- [ ] **布局组件**
  - [ ] 侧边栏菜单
  - [ ] 顶部导航
  - [ ] 面包屑

- [ ] **页面开发**
  - [ ] 登录页
  - [ ] 仪表盘页（数据统计）
  - [ ] 主持人列表页
  - [ ] 主持人详情页
  - [ ] 标签管理页
  - [ ] 订单列表页
  - [ ] 订单详情页（含付款确认、查看用户上传凭证）
  - [ ] 退款管理页
  - [ ] 评价管理页
  - [ ] 动态管理页
  - [ ] 系统配置页
  - [ ] 消息管理页
  - [ ] 公告管理页
  - [ ] 轮播图管理页
  - [ ] 订单超时配置页
  - [ ] 数据统计页（订单统计、主持人统计、会员统计）

- [ ] **DIY装修功能开发**
  - [ ] 安装拖拽库（vuedraggable或sortablejs）
  - [ ] 装修编辑器页面
    - [ ] 左侧组件库面板
    - [ ] 中间画布区域（可拖拽）
    - [ ] 右侧属性配置面板
  - [ ] 组件管理
    - [ ] 组件拖拽添加
    - [ ] 组件排序调整
    - [ ] 组件删除
    - [ ] 组件复制
  - [ ] 组件配置
    - [ ] 动态表单生成
    - [ ] 样式配置
    - [ ] 数据绑定
  - [ ] 实时预览
    - [ ] 预览窗口
    - [ ] 移动端预览
  - [ ] 页面管理
    - [ ] 创建页面
    - [ ] 编辑页面
    - [ ] 删除页面
    - [ ] 切换页面
    - [ ] 应用模板

**验收标准**:
- 登录功能正常
- 数据列表正常
- 操作功能正常
- DIY装修功能可用
- 拖拽排序正常
- 组件配置保存正常

---

## 七、第5阶段：测试上线（第5周）

### 7.1 Day 21-22：功能测试

**任务清单**:

- [ ] **用户端测试**
  - [ ] 登录授权测试
  - [ ] 主持人浏览测试
  - [ ] 订单创建测试
  - [ ] 订单取消测试
  - [ ] 评价提交测试
  - [ ] 动态互动测试

- [ ] **主持人端测试**
  - [ ] 订单审核测试
  - [ ] 档期管理测试
  - [ ] 动态发布测试
  - [ ] 评价回复测试

- [ ] **管理端测试**
  - [ ] 主持人管理测试
  - [ ] 订单管理测试
  - [ ] 付款确认测试
  - [ ] 退款处理测试
  - [ ] 审核功能测试

**验收标准**:
- 所有功能正常
- 无严重Bug

### 7.2 Day 23-24：优化与修复

**任务清单**:

- [ ] **Bug修复**
  - [ ] 修复测试发现的问题
  - [ ] 处理边界情况

- [ ] **性能优化**
  - [ ] 接口响应优化
  - [ ] 数据库查询优化
  - [ ] 缓存策略实施

- [ ] **体验优化**
  - [ ] 加载状态优化
  - [ ] 错误提示优化
  - [ ] 交互细节优化

**验收标准**:
- 接口响应时间 < 500ms
- 无明显卡顿

### 7.3 Day 25：部署上线

**任务清单**:

- [ ] **服务器部署**
  - [ ] 配置Nginx
  - [ ] 部署后端代码
  - [ ] 配置SSL证书
  - [ ] 配置环境变量

- [ ] **小程序发布**
  - [ ] 构建生产版本
  - [ ] 上传到微信平台
  - [ ] 提交审核

- [ ] **管理端部署**
  - [ ] 构建生产版本
  - [ ] 部署到服务器

- [ ] **最终验收**
  - [ ] 生产环境测试
  - [ ] 数据备份策略
  - [ ] 监控告警配置

**验收标准**:
- 服务稳定运行
- 小程序审核通过

---

## 八、任务分配

### 8.1 角色分工

| 角色 | 职责 |
|-----|------|
| 后端开发 | 数据库设计、API开发、业务逻辑 |
| 前端开发 | 小程序开发、管理端开发 |
| 测试 | 功能测试、Bug反馈 |
| 产品 | 需求确认、验收把关 |

### 8.2 并行任务

**可并行开发**:
- 后端API开发 与 前端页面框架搭建
- 主持人模块 与 动态模块
- 小程序开发 与 管理端开发

**需串行开发**:
- 数据库 → 模型层 → 服务层 → 控制器
- 基础组件 → 页面开发 → 功能联调

---

## 九、风险管理

### 9.1 风险清单

| 风险项 | 等级 | 应对措施 |
|-------|------|---------|
| 需求变更 | 中 | 提前确认需求，设置变更流程 |
| 技术难点 | 低 | 技术方案预研，及时沟通 |
| 进度延期 | 中 | 设置里程碑，定期检查进度 |
| 人员变动 | 低 | 代码规范，文档完善 |
| 微信审核 | 中 | 预留审核时间，准备备用方案 |

### 9.2 应对策略

**进度管理**:
- 每日站会同步进度
- 每周周报总结问题
- 遇到阻塞及时上报

**质量保证**:
- 代码Review
- 单元测试
- 集成测试

---

## 十、交付物清单

### 10.1 代码交付

| 交付物 | 说明 |
|-------|------|
| Wedding-management-api | 后端API代码 |
| Wedding-management-miniapp | 小程序代码 |
| Wedding-management-admin | 管理端代码 |

### 10.2 文档交付

| 交付物 | 说明 |
|-------|------|
| 项目开发文档 | 技术架构、开发规范 |
| 数据库设计文档 | 表结构、字段说明 |
| API接口文档 | 接口列表、参数说明 |
| 业务流程文档 | 业务流程、状态说明 |
| 部署文档 | 部署步骤、配置说明 |
| 操作手册 | 功能使用说明 |

### 10.3 部署交付

| 交付物 | 说明 |
|-------|------|
| 生产环境 | 服务器部署完成 |
| 小程序上架 | 审核通过可使用 |
| 管理端上线 | 可正常访问 |

---

## 十一、里程碑节点

| 日期 | 里程碑 | 验收内容 |
|-----|-------|---------|
| Week 1 结束 | M1: 基础搭建完成 | 环境可用，数据库就绪 |
| Week 2 结束 | M2: 核心功能完成 | 主持人、订单功能可用 |
| Week 3 结束 | M3: 扩展功能完成 | 评价、动态、退款功能可用 |
| Week 4 结束 | M4: 前端开发完成 | 小程序、管理端可用 |
| Week 5 结束 | M5: 项目上线 | 生产环境可用 |

---

## 十二、后续规划

### 12.1 V1.1 版本规划（可选）

- 消息推送优化
- 数据统计增强
- 性能监控接入
- 用户行为分析

### 12.2 V2.0 版本规划（可选）

- 在线咨询功能
- 优惠券/活动功能
- 会员等级体系
- 分销推广功能

---

**文档版本**: v1.0.0  
**最后更新**: 2025-12-31

